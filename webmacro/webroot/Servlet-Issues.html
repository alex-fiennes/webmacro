<html><head>
<meta name="description" value="Principles of Java Servlet Design">

<meta name="keywords" value="servlet, java servlets, issues, webmacro, model/view/controller, MVC">

<title>Servlets and the Web</title>

</head>

<body bgcolor="white">

<blockquote>
<center>
<h1><font color="green">Fundamentals of Servlet Design</font></h1>

<a href="mailto:justin@webmacro.org"><font color="green" size="+2">Justin Wells</font></a><br>
<a href="http://www.webmacro.org/"><font color="red">webmacro.org</font></a>

</center>

<p>

This section of <a href="Servlet.html">Fundamentals of Servlet Design</a>
analyzes web development and produces a list of requirements for 
Java servlet design. The <a href="Servlet-Design.html">next</a> section 
proposes a solution.

<hr>


<h2><font color="green">Issues in Servlet Design</font></h2>

Java servlet design exists in a context. In order to understand
the right way to look at servlets, take a step back and look at
web development in general.  <p>

I've been developing web applications since 1995--I've developed 
web sites, put web front ends on several products, designed products
out of servlets, and built a generic Java servlet framework.
<p>
In all that time, I've noticed a few things about web projects--they're
a little bit different than other kinds of projects, and any design
must accommodate the particular nature of the field.  
<p>
This article goes through the issues that relate to developing for 
the Java Servlet API and web development in general.

<p> 

Here's what I think:

<p>
<h4><font color="green">Servlet development involves teamwork</font></h4> 

A typical web development project involves one or more programmers,
page designers, and customers, all working together to build the final product.  
<p>
This gives us our first requirement, which is so fundamental that many people overlook it:
  <ul>
      <li><b>Good servlet design makes it possible to partition work</b>
  </ul>
A servlet design is no good if it means the page designer has to
depend on the programmer to make look and feel changes. It's also
no good if the page designer can't do any work at all until the
programming is done--people need to work in parallel.
<p>

<h4><font color="green">Servlet development must be rapid</font></h4>

Customers come to servlet developers with a most basic question: What 
can servlets do that will help me out? 
<p>
Initially there will be many good ideas, but not much certainty. Customers 
generally need to see some results before they know what they want. This puts
web developers in an uncomfortable position: "Build it and I'll tell you whether
I want it" is not on the road to success and profit.
<p>
However, if misused the servlet API can actually increase the time 
required for development versus a popular tool like PERL or PHP.
<p>
The correct approach is to spend a small effort generating something that is 
just good enough to give the client a better idea. Then allow frequent changes
as the project moves forward. Your servlet design must accomodate this.
<p>
From these observations I derive three requirements for servlet designs, 
which can be summed up as "a good servlet design supports rapid development":
  <ul>
     <li><b>Good designs allows prototyping</b>
     <li><b>Good designs allow frequent, easy changes</b>
     <li><b>Good designs produce visible results at every stage</b>
  </ul>
Without the ability to show the customer something early, you'll build the 
wrong thing. And even after you've built the right thing, the customer will 
want to tweak it. And in order to know whether what you're doing is the 
right thing, you need to show it often.


<h4><font color="green">Servlet development is complex</font></h4>

Software systems are incredibly complicated. People only hope to understand 
them by breaking them down into simple components that are easy to understand.
The idea is to abstract out the important principles, and illustrate them 
clearly in your servlet code--only then can a programmer look at the whole 
and feel like it's well understood.
<p>
Similarly, page design is hard. And unlike programming, it cannot easily
be broken down into component parts. Instead a good designer looks at the 
whole and, based on experience and artistry, decides how to improve it.  
<p>
Both of these tasks are fairly complex, and need to be supported by any 
servlet design. 
<p>
So here are two more requirements:
<ul>
   <li><b>Servlet programmers must be able to write clear code</b>
   <li><b>Servlet page designers must be able to operate on the whole page</b>
</ul>
<p>
If the servlet programmer can't write clear code, then they'll have
trouble illustrating the key abstractions. Next they'll feel they don't have
a competent grip on how the whole servlet works. They'll make mistakes, or else 
avoid making changes out of fear of making a mistake.
<p>
If page designers can't deal with the page as a whole, and change whatever they 
want easily, then they won't be able to do a good job. Their task can't be broken
down into separate parts as a program can: how a title is formatted depends 
on everything else on the page.
<p>
Since these two ways of working are incompatible, this leads to a new 
requirement:
<p>
<ul>
   <li><b>A good servlet design separates programming from page design</b>
</ul>

The two problems can't be broken down the same way, cannot be solved the 
same way, and often involve different people anyway. 


<h4><font color="green">Servlet development is client/server</font></h4>

You don't have much choice here--there's a web browser, the client, and your 
servlet lives on the server,  accepting requests and generating responses.
Your job is to figure out how to get data back and forth, when to get it, 
and how to track it.
<p>
Here is that last bit, restated as a requirement:
<ul>
  <li><b>A good design clarifies and simplifies session management</b>
</ul>

The immediate consequence of a client/server architecture is that the 
server must track the client and figure out what it's been doing; whether
all the appropriate information has been supplied; whether all the 
correct steps have been followed--for example, perhaps a user must log in 
before posting a message.
<p>
Many designs bury interaction control in HTML and/or the back end, without
clearly expressing it anywhere. 
<p>
Soon people working on projects like this find themselves spending an
inordinate amount of time trying to comprehend how all the pages and
information fit together in an expensive attempt to solve some 
mysterious bug.
<p>
A good design simplifies this work by allowing session management and
other client/server issues to be dealt with from a well defined place,
separate from the other work.


<h2><font color="green">The Right Way to Design A Servlet</font></h2>

The next section presents the right way to design servlets. 

<p>

Next: <font size="+2"><a href="Servlet-Design.html"><b>Servlet Design</b></a></font>

</blockquote>
<!--TAIL-->


<hr>
<center>
<font size="+2"><a href="Introduction.html">Introduction</a> | <a href="Download.html">Download</a> 
</font> <p> 
<a href="api/index.html">api</a> |
<a href="Servlet.html">design</a> |
<a href="FAQ.html">faq</a> |
<a href="DesignGoals.html">goals</a> | 
<a href="Links.html">links</a> |
<a href="License.html">license</a> |
<a href="OtherTech.html">othertech</a> | 
<a href="QuickStart.html">quickstart</a> | 
<a href="Script.html">script</a> |
<a href="Status.html">status</a> 
</center>
</body></html>

